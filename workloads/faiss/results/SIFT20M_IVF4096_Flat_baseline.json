{
  "metadata": {
    "timestamp": "2025-11-25T14:28:06.011740",
    "command": "bench_gpu_1bn.py SIFT20M IVF4096,Flat -nprobe 1,4,16"
  },
  "config": {
    "dbname": "SIFT20M",
    "index_key": "IVF4096,Flat",
    "ngpu": 1,
    "replicas": 1,
    "add_batch_size": 32768,
    "query_batch_size": 16384,
    "nprobes": [
      1,
      4,
      16
    ],
    "use_float16": false,
    "use_uvm": false,
    "use_precomputed_tables": true,
    "nnn": 10,
    "tempmem": -1
  },
  "preprocessing": {},
  "coarse_quantizer": {
    "num_centroids": 4096,
    "preproc_time": 0.05852627754211426,
    "cluster_time": 1.914773941040039,
    "total_time": 1.9733002185821533
  },
  "index_training": {
    "index_type": "Flat",
    "train_time": 0.049924373626708984
  },
  "index_add": {
    "total_time": 3.7148754596710205,
    "progress": [
      {
        "percent": 5,
        "time": 0.275937557220459,
        "vectors_added": 1015808
      },
      {
        "percent": 10,
        "time": 0.4762399196624756,
        "vectors_added": 2031616
      },
      {
        "percent": 15,
        "time": 0.6614606380462646,
        "vectors_added": 3014656
      },
      {
        "percent": 20,
        "time": 0.8314833641052246,
        "vectors_added": 4030464
      },
      {
        "percent": 25,
        "time": 1.010361671447754,
        "vectors_added": 5013504
      },
      {
        "percent": 30,
        "time": 1.1799838542938232,
        "vectors_added": 6029312
      },
      {
        "percent": 35,
        "time": 1.3432550430297852,
        "vectors_added": 7012352
      },
      {
        "percent": 40,
        "time": 1.5253241062164307,
        "vectors_added": 8028160
      },
      {
        "percent": 45,
        "time": 1.7171132564544678,
        "vectors_added": 9011200
      },
      {
        "percent": 50,
        "time": 1.9187548160552979,
        "vectors_added": 10027008
      },
      {
        "percent": 55,
        "time": 2.099846363067627,
        "vectors_added": 11010048
      },
      {
        "percent": 60,
        "time": 2.27424693107605,
        "vectors_added": 12025856
      },
      {
        "percent": 65,
        "time": 2.4381275177001953,
        "vectors_added": 13008896
      },
      {
        "percent": 70,
        "time": 2.6065213680267334,
        "vectors_added": 14024704
      },
      {
        "percent": 75,
        "time": 2.7742629051208496,
        "vectors_added": 15007744
      },
      {
        "percent": 80,
        "time": 2.954773187637329,
        "vectors_added": 16023552
      },
      {
        "percent": 85,
        "time": 3.134892702102661,
        "vectors_added": 17006592
      },
      {
        "percent": 90,
        "time": 3.328795909881592,
        "vectors_added": 18022400
      },
      {
        "percent": 95,
        "time": 3.5195083618164062,
        "vectors_added": 19005440
      },
      {
        "percent": 100,
        "time": 3.713521718978882,
        "vectors_added": 20000000
      },
      {
        "percent": 100,
        "time": 3.7148754596710205,
        "vectors_added": 20000000
      }
    ],
    "total_vectors": 20000000
  },
  "search": [
    {
      "nprobe": 1,
      "num_queries": 10000,
      "search_time": 0.028685331344604492,
      "qps": 348610.2314757096,
      "recall": {
        "1-R@1": 0.4158,
        "1-R@10": 0.4158
      }
    },
    {
      "nprobe": 4,
      "num_queries": 10000,
      "search_time": 0.07040524482727051,
      "qps": 142034.8728924047,
      "recall": {
        "1-R@1": 0.7343,
        "1-R@10": 0.7343
      }
    },
    {
      "nprobe": 16,
      "num_queries": 10000,
      "search_time": 0.2582545280456543,
      "qps": 38721.489515305606,
      "recall": {
        "1-R@1": 0.933,
        "1-R@10": 0.933
      }
    }
  ],
  "summary": {
    "total_build_time": 5.738100051879883,
    "best_search": {
      "nprobe": 16,
      "recall_1R1": 0.933,
      "qps": 38721.489515305606
    }
  }
}